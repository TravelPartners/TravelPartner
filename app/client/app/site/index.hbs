<link rel="stylesheet" href="/site/site.css" />
<link href="https://fonts.googleapis.com/css?family=Gamja+Flower" rel="stylesheet">

<div id="myCarousel" class="carousel slide" style="margin-top:-2em;height:550px">
<!-- 轮播（Carousel）指标 -->
<ol class="carousel-indicators">
  <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
  <li data-target="#myCarousel" data-slide-to="1"></li>
  <li data-target="#myCarousel" data-slide-to="2"></li>
</ol>
<!-- 轮播（Carousel）项目 -->
<div class="carousel-inner" style="height:100%;">
    <div class="item active">
        <img src="https://images.unsplash.com/photo-1508652362825-2a44637db8e2?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=358d1b06fafc4456cc24e627c07450f9&auto=format&fit=crop&w=1950&q=80" alt="First slide">
  </div>
  <div class="item">
    <img src="/wp-content/uploads/2014/07/slide2.png" alt="Second slide">
  </div>
  <div class="item">
    <img src="/wp-content/uploads/2014/07/slide3.png" alt="Third slide">
  </div>
</div>
<!-- 轮播（Carousel）导航 -->
<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
  <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
  <span class="sr-only">Previous</span>
</a>
<a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
  <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
  <span class="sr-only">Next</span>
</a>
</div>


<div class="container" style="margin-top:3em; margin-bottom:5em;">
    <!--<br><br><h3 style="color:#8B8989;text-align:center;"><em>Travel is a beautiful missing,
      missing is a beautiful journey. Not to let others be able to temporarily forget me,
    but in order to let others be able to think of me.</em> </h3><br>-->
    <h2 style="color:#8B8989;text-align:center;font-family:Gamja Flower"><em>Travel is a beautiful missing,
      missing is a beautiful journey.Not to let others be able</em></h2>
    <h2 style="color:#8B8989;text-align:center; font-family:Gamja Flower"><em>
   to temporarily forget me,but in order to let others be able to think of me.</em></h2>
<br>
<br>
  <p class="paragraph" style="font-size:25px;">{{introduction}}</p>

  <div style="color:#666699;" >Begin Your Travel!</div>
  <div id="google-map"  style="width:100%;height:500px; ">
  </div>
<br><br>


<div>
  <div>
    <h3 style="color:#666699;">Share Your Travel Stories</h3>
  </div>
  <div class="row" style="background-color: white;">
    <div>
        {{#with firstGuide}}
            <div class="sender">
              <div class="col-sm-1">
                  <img class="img-circle" style="width:100%; float: left;" src="{{ avatar }}">
              </div>
            <div>
                <div class="left_triangle"></div>
                <span>
                    <div class="container" style="width:500px; background-color:transparent;">
                            <div class="">
                                <br><br>
                                <p class="paragraph text-info" style="text-align:left;">
                                    <a  target="_blank" href={{url}} >{{title}}</a>
                                </p>
                                <div style="float: left;">by</div> <p ><i><b>&nbsp{{user}}</i></b> </p>
                                <div>  <img style="width:100%; height:100%;" src="{{image }}" > </div>
                                <p><em>{{summary}}<a class="text-info" href={{url}} target="_blank">view more.</em></a></p>
                            </div>
                    </div>
                </span>
              </div>
            </div>
        {{/with}}

        {{#with secondGuide}}
        <!-- Right -->
         <div class="receiver">
            <div class="col-sm-1" style="text-align:right;">
                <img class="img-circle" style="width:100%;" src="{{ avatar }}">
            </div>
            <div>
                <div class="right_triangle"></div>
                <span>
                    <div  style="width:500px; background-color:transparent;">
                            <div class="">
                                <br><br>
                                <div style="text-align:right;">
                                <p class="paragraph text-info" style="text-align:right;">
                                    <a href={{url}} target="_blank" >{{title}}</a>
                                </p>
                                <div style="text-align:right;">
                                 <p >by <i><b>&nbsp{{user}}</i></b> </p>
                              </div>
                                <div>  <img style="width:100%; height:100%;" src="{{ image }}" > </div>
                                <p><em>{{summary}}<a class="text-info" href={{url}} target="_blank">view more.</em></a></p>
                              </div>
                            </div>
                    </div>
                </span>
            </div>
        </div>
        {{/with}}


        {{#with thirdGuide}}
            <div class="sender">
              <div class="col-sm-1">
                  <img class="img-circle" style="width:100%; float: left;" src="{{ avatar }}">
              </div>
            <div>
                <div class="left_triangle"></div>
                <span>
                    <div class="container" style="width:500px; background-color:transparent;">
                            <div class="">
                                <br><br>
                                <p class="paragraph text-info" style="text-align:left;">
                                    <a  target="_blank" href={{url}} >{{title}}</a>
                                </p>
                                <div style="float: left;">by</div> <p ><i><b>&nbsp{{user}}</i></b> </p>
                                <div>  <img style="width:100%; height:100%;" src="{{image }}" > </div>
                                <p><em>{{summary}}<a class="text-info" href={{url}} target="_blank">view more.</em></a></p>
                            </div>
                    </div>
                </span>
              </div>
            </div>
        {{/with}}

    </div>
  </div>
</div>





</div>
<button onclick="topFunction()" id="myBtn" type="button" class="btn btn-primary" style="position: fixed; bottom: 20px;right: 30px;">Top</button>
<!-- <iframe src="https://www.google.com/maps/embed?pb=!4v1523932571025!6m8!1m7!1sCAoSLEFGMVFpcE5ibVVMa0FfSzhYWXlocGZSY282UjBvTVV4MlVGMUR1R1BJNG5B!2m2!1d42.3583044!2d-71.0598753!3f240.35!4f-10.400000000000006!5f1.1924812503605784" width="600" height="450" frameborder="0" style="border:0" allowfullscreen></iframe> -->
</div>

<script type="text/javascript">
 window.onscroll = function() {scrollFunction()};

 function scrollFunction() {
     if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
         document.getElementById("myBtn").style.display = "block";
     } else {
         document.getElementById("myBtn").style.display = "none";
     }
 }

 function topFunction() {
     document.body.scrollTop = 0;
     document.documentElement.scrollTop = 0;
 }


 function initMap() {
     var places = [];
     var placesNames = [];
     var placesUrls = [];
     var markers = [];

     /**
      * places : Object Array
      * Object inside places:
      *   { name: xxx, geo: { lat:xxx, lng:xxx }}
      */
     {{#each places}}

     places.push({ lat: {{ geo.lat }}, lng: {{ geo.lng }} });
     placesNames.push("{{ name }}");
     placesUrls.push("{{ url }}");

     {{/each}}
console.log(placesUrls);
     var googleMap = new google.maps.Map(document.getElementById('google-map'), {
         zoom: 4,
         center: places[0]
     });

     for (var i = 0; i < places.length; ++i) {
         markers.push(new google.maps.Marker({ position: places[i], map: googleMap}));
         markers[i].addListener('click', ((i)=>{
             return function () {
//                 console.log(i);
//                 console.log(placesUrls[i]);
                 window.location = placesUrls[i];
             };
         })(i));
     }
 }
</script>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAsmrS2NY9Ld9Yn4LAdgdH0hRxIIfI7AeI&callback=initMap" type="text/javascript"></script>
